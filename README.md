# 二手房房价数据分析与可视化平台

一个基于Python Dash框架构建的交互式数据分析和可视化平台，专注于成都市二手房房价数据的深度分析和智能洞察。（起初是用在毕业设计的，可以自取~~）

## 🌟 项目特色

- **交互式数据探索**：实时筛选、动态图表、多维度分析
- **AI智能助手**：内置AI数据分析助手，提供智能问答和洞察（删去了API调用函数）
- **现代化UI设计**：渐变背景、动画效果、响应式布局
- **全面数据可视化**：多种图表类型，全方位展示房价趋势和分布

## 🚀 功能特性

### 1. 数据筛选面板
- 区域多选：支持选择多个行政区进行对比分析
- 装修情况筛选：精装、简装、毛坯等装修类型筛选
- 面积范围：交互式滑块选择房屋面积范围
- 单价范围：实时调整单价筛选条件

### 2. 统计信息面板
- 房源总数统计
- 平均单价分析
- 价格区间分布
- 区域房源数量对比

### 3. AI智能助手
- **自然语言交互**：支持中文自然语言提问
- **智能分析功能**：
  - 区域房价对比分析
  - 装修情况对价格影响分析
  - 房源推荐和建议
  - 数据图表解释和趋势分析
  - 自定义问答和数据分析
- **快捷问题按钮**：一键提问常见分析需求

### 4. 数据可视化
- **区域价格分布图**：各行政区房价箱线图
- **面积-价格散点图**：房屋面积与单价关系分析
- **装修情况饼图**：不同装修类型房源分布
- **交互式图表**：支持悬停查看详细数据

## 🛠️ 技术栈

- **前端框架**：Plotly Dash
- **后端框架**：Flask
- **数据处理**：Pandas, NumPy
- **数据可视化**：Plotly, Matplotlib
- **样式设计**：CSS3 (渐变、动画、响应式)
- **AI处理**：自定义自然语言处理逻辑

## 📦 安装和运行

### 环境要求
- Python 3.8+（不能高于3.10）
- pip

### 安装步骤

1. 克隆项目到本地
```bash
git clone <项目地址>
cd shuju
```

2. 创建虚拟环境（推荐）
```bash
python -m venv .venv
```

3. 激活虚拟环境
- Windows:
```bash
.venv\Scripts\activate
```
- macOS/Linux:
```bash
source .venv/bin/activate
```

4. 安装依赖
```bash
pip install -r requirements.txt
```

5. 运行应用
```bash
python app.py
```

6. 访问应用
打开浏览器访问：http://127.0.0.1:8050/

## 📁 项目结构

```
shuju/
├── app.py                 # 主应用文件
├── data_cleaning_analysis.py  # 数据清洗和分析脚本
├── generate_sample_data.py    # 样本数据生成脚本
├── visualization.py       # 可视化函数
├── requirements.txt       # 依赖包列表
├── README.md             # 项目说明文档
├── data/                 # 数据文件目录
│   ├── chengdu_housing_cleaned.csv
│   ├── chengdu_second_hand_housing_sample.csv
│   └── processed/
└── plots/                # 生成的图表文件
    ├── *.png
    └── *.html
```

## 🎨 界面布局

应用采用三栏式响应式布局：

### 大屏幕模式 (1024px+)
- **左侧**：筛选面板 (1fr)
- **中间**：AI助手面板 (1fr) 
- **右侧**：统计信息面板 (1fr)
- 三个面板等宽排列，高度统一为500px

### 小屏幕模式 (1024px以下)
- 垂直堆叠布局
- 自适应宽度
- 保持完整的交互功能

## 🤖 AI助手功能

### 支持的问题类型
1. **基础统计查询**
   - "一共有多少套房源？"
   - "平均价格是多少？"
   - "最贵的区域是哪里？"

2. **对比分析**
   - "武侯区和锦江区的价格对比"
   - "精装和简装的价格差异"

3. **趋势分析**
   - "面积和价格的关系"
   - "不同装修类型的价格分布"

4. **建议和推荐**
   - "推荐一些性价比高的房源"
   - "哪个区域投资价值最高？"

### 快捷问题按钮
- "分析各区域房价对比"
- "解释装修对价格的影响"
- "推荐优质房源"
- "显示价格趋势分析"

## 📊 数据来源

项目使用成都市二手房市场样本数据，包含以下字段：
- 区域（district）
- 面积（area）
- 总价（total_price）
- 单价（price_per_sqm）
- 装修情况（decoration）
- 楼层信息（floor）
- 建筑年代（building_age）

## 🔧 自定义配置

### 修改样式
编辑 `app.py` 中的CSS样式部分，可以自定义：
- 颜色主题和渐变效果
- 面板大小和布局
- 动画效果
- 响应式断点

### 扩展功能
- 在 `app.py` 中添加新的回调函数
- 在 `visualization.py` 中添加新的图表类型
- 扩展AI助手的处理逻辑

## 📈 性能优化

- 数据预处理和缓存
- 响应式设计减少重绘
- 高效的图表渲染
- 智能的数据筛选逻辑

## 🤝 贡献指南

1. Fork 本项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 打开Pull Request

## 📝 更新日志

### v1.0.0
- 初始版本发布
- 基础数据分析和可视化功能
- AI智能助手集成
- 响应式界面设计

## 🐛 问题反馈

如果您遇到任何问题或有改进建议，请提交Issue或联系开发团队。

## 📄 许可证

本项目采用MIT许可证，详见LICENSE文件。

## 🙏 致谢

- 感谢Plotly Dash团队提供的优秀框架
- 感谢Pandas和NumPy社区的数据处理工具
- 感谢所有贡献者和用户的支持

---

**享受数据探索的乐趣！** 🎉
